---
layout: post
title: Version Control Changes
date: 2008-04-01 18:35:57.000000000 -04:00
categories: []
tags: []
status: publish
type: post
published: true
meta: {}
author:
  login: nathan
  email: ''
  display_name: nathan
  first_name: ''
  last_name: ''
---
<p>I alluded to it in my <a href="http://techblog.creativecommons.org/2008/03/27/destination-sanity/">last post</a> and wanted to provide some more details and context on the changes we're making (have made) to our source control systems.  Since I started working on CC code in late 2003 we've hosted our source repository in the <a href="http://sourceforge.net/projects/cctools">CC Tools project</a> at <a href="http://sourceforge.net">Sourceforge.net</a>, first in <a href="http://en.wikipedia.org/wiki/Concurrent_Versions_System">CVS</a>, later in <a href="http://en.wikipedia.org/wiki/Subversion_(software)">Subversion</a>.  Sourceforge.net has been great in one major respect &mdash; to the best of my knowledge we've never had a data loss issue.  Of course, many times using Sourceforge has also felt like something to endure rather than appreciate.  It was while enduring the delayed availability of Subversion that we decided to move the <a href="http://wiki.creativecommons.org/CcPublisher">ccPublisher</a> code base to <a href="http://developer.berlios.de/projects/cctools">Berlios.de</a>, which was marginally better.  </p>
<p>Since the beginning of 2008 a few things have conspired to finally push us over the edge and decide to leave Sourceforge.net behind.  On one hand we've been itching to work with a <a href="http://en.wikipedia.org/wiki/Distributed_Version_Control_System">distributed version control</a> system (we wound up choosing <a href="http://en.wikipedia.org/wiki/Git_%28software%29">Git</a>).  While using Sourceforge didn't rule that out, I wanted to make sure that we had a place to publish our repositories publicly, both for redundancy and transparency.  Accepting this as a task just made me more amenable to also creating a place to publish a Subversion repository. The other event was a morning of outages (again) on Sourceforge's Subversion server.  I was trying to commit updates to the license deeds (just over 20,000 files updated), and the operation kept failing mid-way through.  Note that this is a commit that can take up to 12 hours when successful.  </p>
<p>Two days later we were cutting over to a new system, hosted at <a href="http://code.creativecommons.org">code.creativecommons.org</a>.  We turned off write access to the Sourceforge repository, synced it, and asked contributors for public keys, which we're using for authentication.  The new system supports both Git and <a href="http://code.creativecommons.org/viewsvn">Subversion</a>, public key authentication for committers (using the pretty slick <a href="http://scie.nti.st/2007/11/14/hosting-git-repositories-the-easy-and-secure-way">gitosis</a> on the git side) and is fast.  Really, really, really fast when compared to our Sourceforge repository.</p>
<p>Total estimated time for testing and deployment: 2 person-days.</p>
