---
layout: post
title: Licensing on the Gnome Desktop
date: 2007-08-03 21:49:26.000000000 -04:00
categories:
- Interns 2007
- liblicense
tags: []
status: publish
type: post
published: true
meta: {}
author:
  login: tannewt
  email: ''
  display_name: tannewt
  first_name: ''
  last_name: ''
---
<p>A few days ago we released version 0.3 of liblicense.  This version focused on bringing liblicense onto the desktop and improvements to make that a satisfying experience.  The primary things we added to integrate into Gnome were a generic GTK license chooser widget, default license chooser, and nautilus extension.  These things combine to demonstrate the power of licensing on the desktop.  Additionally, we added optional sqlite3 cache support to speed up the <strong>get_licenses</strong>() function primarily.  Here is a run through of the changes.</p>
<p>The GTK license widget is used extensively throughout the integration.  The widget provides an interface to the license choosing functions in liblicense.  A user selects a license by toggling various attributes.</p>
<p><img src="img/ll_default_1.png" alt="GTK Widget in Default Chooser" align="middle" height="467" width="321" /></p>
<p>This is the default license chooser.  The GTK widget is in the frame above the buttons.  The widget provides <strong>get_license</strong> and <strong>set_license</strong> which in this case is used to set the default license for the system.  Ideally, the default system license would be used by applications when they embed license data upon save.  However, that is ideal and not implemented yet.</p>
<p>The default license is used in the nautilus extension.  The default license is used in the file properties license tab whenever a file doesn't have a license set.  The properties tab also utilizes the GTK widget.   Once the user selects a license for the file(s) and closes the dialog the data is written to the files using the liblicense io modules.  These are C modules which embed and extract license data in particular file formats.  Having numerous modules provides decent coverage of file formats.  Currently, if Exempi support is enabled, all files can be handled by creating an XMP sidecar file in the absence of any other means of license storage.  We've also considered other means of license association but see embedding as the ideal option.  Here is a screenshot from nautilus.</p>
<p><img src="img/ll_nautilus_scaled.png" alt="Nautilus File Properties" /></p>
<p>The second aspect of the nautilus integration is license loading upon folder open and resulting emblems.  All the extension does is reads the license from every file nautilus loads and tags Creative Common's licensed files with the CC logo and non-CC licensed works with our license icon.  Here is  a screenshot of the emblems.</p>
<p><img src="img/ll_nautilus_emblem_scaled.png" alt="Nautilus CC emblems" /></p>
<p>Thats about it.  We'd love feedback before our next release (0.4).  On the CC wiki we have a <a href="http://wiki.creativecommons.org/Liblicense_04_release_todo" title="0.4 release to do">running list of things to do</a>.  You can get liblicense 0.3 from the <a href="https://sourceforge.net/project/showfiles.php?group_id=80503&amp;package_id=238700" title="liblicense download">cctools download page</a>  The liblicense home is also on the CC wiki available <a href="http://www.creativecommons.org/project/Liblicense" title="liblicense project page">here</a>.  Its currently available in source packages, rpms and ebuilds and will be available in debs by the end of today.  Lastly, there is a <a href="http://www.youtube.com/watch?v=L91vjVurtkg" title="liblicense Video">video of liblicense in action</a> on youtube.</p>
