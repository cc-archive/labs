---
layout: post
title: 'Destination: Sanity'
date: 2008-03-27 22:45:12.000000000 -04:00
categories:
- internal
- licenses
- sanity
- tools
tags: []
status: publish
type: post
published: true
meta: {}
author:
  login: nathan
  email: ''
  display_name: nathan
  first_name: ''
  last_name: ''
---
<p>Last week <a href="http://creativecommons.org/about/people#75">Kinkade</a> asked me for a brief overview of how the <a href="http://code.creativecommons.org/viewsvn/cc.engine">license engine</a>, <a href="http://api.creativecommons.org">web services</a> and other <a href="http://code.creativecommons.org/viewsvn/license_xsl">bits</a> of <a href="http://code.creativecommons.org/viewsvn/licenses.rdf">code</a> all fit together to create the joy that is <a href="http://creativecommons.org">creativecommons.org</a>.  "Sure," I thought; "that's simple!"</p>
<p>Er, maybe not.  Fourty-five minutes, five marker colors and multiple digressions later, I had the following diagram of life as it is today.</p>
<p><a href="http://www.flickr.com/photos/nathan_y/2347987536/" title="The Present by Nathan Y, on Flickr"><img src="img/2347987536_5515b1f963.jpg" width="500" height="375" alt="The Present" /></a></p>
<caption>"The Present", by <a href="http://flickr.com/photos/nathan_y">Nathan Y.</a>; <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a></caption>
<p>Life sucks.</p>
<p><a href="http://creativecommons.org/about/people#83">Asheesh</a> joined us and we started talking about how we can make this better.  The above, while eminently sucky, has grown up during my time at Creative Commons.  All those decisions made sense at the time, but in aggregate we've got lots of duplicated code, a branch of code named the <code>gradually-increasing-sanity-branch</code> which doesn't (I take the blame for that one), and plenty of unnecessary complexity.  Half an hour later, we had mapped out <strong>The Glorious Future&reg;</strong>:</p>
<p><a href="http://www.flickr.com/photos/nathan_y/2347986388/" title="The Glorious Future by Nathan Y, on Flickr"><img src="img/2347986388_dd1c466a5e.jpg" width="500" height="375" alt="The Glorious Future" /></a></p>
<caption>"The Glorious Future", by <a href="http://flickr.com/photos/nathan_y">Nathan Y.</a>; <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a></caption>
<p>A little simpler, huh?  And the "future" diagram shows all the functionality of the present, <em>plus</em> three packages not displayed on the original diagram.  Our immediate goal in moving in this direction is the completion of <code>cc.license</code> (labeled as "cc.licenze" in the diagrams to distinguish it from the existing implementation) which will replace the existing XSLT processing using for issuing licenses and wraps the RDF (which is the canonical representation of the licenses anyway).  We'll also manage to dramatically reduce the number of <code>svn:externals</code> we use, which is good since we're moving <a href="http://git.or.cz/">away</a> from <a href="http://subversion.tigris.org">Subversion</a> for some projects.  My goal is to get this upgrade done as soon as possible so we can focus on things that are actually interesting instead of our own infrastructure.</p>
